var ThreeSixty=function(v){"use strict";return function(e,t){var n=this,o=0,u=null,s=!1,r=!1,d=function(e){e?n.prev():n.next(),u=v.setTimeout(function(){d(e)},t.speed)},i={mousedown:function(e){r=e.pageX},touchstart:function(e){r=e.touches[0].clientX},touchend:function(){r=!1}},a={mousedown:function(e){e.preventDefault(),n.play(!0)},mouseup:function(e){e.preventDefault(),n.stop()},touchstart:function(e){e.preventDefault(),n.prev()}},c={mousedown:function(e){e.preventDefault(),n.play()},mouseup:function(e){e.preventDefault(),n.stop()},touchstart:function(e){e.preventDefault(),n.next()}},p={mouseup:function(){r=!1},mousemove:function(e){r&&Math.abs(r-e.pageX)>t.dragTolerance&&(n.stop(),r>e.pageX?n.prev():n.next(),r=e.pageX)},touchmove:function(e){r&&Math.abs(r-e.touches[0].clientX)>t.swipeTolerance&&(n.stop(),r>e.touches[0].clientX?n.prev():n.next(),r=e.touches[0].clientX)},keydown:function(e){[37,39].includes(e.keyCode)&&n.play(37===e.keyCode)},keyup:function(e){[37,39].includes(e.keyCode)&&n.stop()}};t.width=t.width||300,t.height=t.height||300,t.count=t.count||0,t.perRow=t.perRow||0,t.speed=t.speed||100,t.dragTolerance=t.dragTolerance||10,t.swipeTolerance=t.dragTolerance||10,t.draggable=!t.hasOwnProperty("draggable")||t.draggable,t.swipeable=!t.hasOwnProperty("swipeable")||t.swipeable,t.keys=!t.hasOwnProperty("keys")||t.keys,t.prev=t.prev||!1,t.next=t.next||!1,t.inverted=t.inverted||!1,e.style.width=t.width+"px",e.style.height=t.height+"px",e.style.backgroundImage='url("'+t.image+'")',e.style.backgroundPosition="0 0",e.style.backgroundSize=100*t.perRow+"%",t.draggable&&(e.addEventListener("mousedown",i.mousedown),document.addEventListener("mouseup",p.mouseup),document.addEventListener("mousemove",p.mousemove)),t.swipeable&&(e.addEventListener("touchstart",i.touchstart),e.addEventListener("touchend",i.touchend),document.addEventListener("touchmove",p.touchmove)),t.keys&&(document.addEventListener("keydown",p.keydown),document.addEventListener("keyup",p.keyup)),t.prev&&(t.prev.addEventListener("mousedown",a.mousedown),t.prev.addEventListener("mouseup",a.mouseup),t.prev.addEventListener("touchstart",a.touchstart)),t.next&&(t.next.addEventListener("mousedown",c.mousedown),t.next.addEventListener("mouseup",c.mouseup),t.next.addEventListener("touchstart",c.touchstart)),n.next=function(){n.goTo(t.inverted?o+1:o-1),n.update()},n.prev=function(){n.goTo(t.inverted?o-1:o+1),n.update()},n.goTo=function(e){e=e>t.count-1?0:e,o=e<0?t.count-1:e,n.update()},n.update=function(){e.style.backgroundPositionX=-o%t.perRow*t.width+"px",e.style.backgroundPositionY=-Math.floor(o/t.perRow)*t.height+"px"},n.play=function(e){s||(d(e),s=!0)},n.stop=function(){s&&(v.clearTimeout(u),s=!1)},n.destroy=function(){n.stop(),e.removeEventListener("mousedown",i.mousedown),e.removeEventListener("touchstart",i.touchstart),e.removeEventListener("touchend",i.touchend),document.removeEventListener("mouseup",p.mouseup),document.removeEventListener("mousemove",p.mousemove),document.removeEventListener("touchmove",p.touchmove),document.removeEventListener("keydown",p.keydown),document.removeEventListener("keyup",p.keyup),t.prev&&(t.prev.removeEventListener("mousedown",a.mousedown),t.prev.removeEventListener("mouseup",a.mouseup),t.prev.removeEventListener("touchstart",a.touchstart)),t.next&&(t.next.removeEventListener("mousedown",c.mousedown),t.next.removeEventListener("mouseup",c.mouseup),t.next.removeEventListener("touchstart",c.touchstart)),e.style.width="",e.style.height="",e.style.backgroundImage="",e.style.backgroundPosition="",e.style.backgroundSize=""}}}(window);